<!DOCTYPE html PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Tablet Weaving Draft Designer</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js.cookie.js"></script>
    <script src="FileSaver.js"></script>
    <script src="fmt/jquery.svg.js"></script>
    <script src="fmt/jquery.svgdom.js"></script>
    <script src="fmt/Colour.js"></script>
    <script src="fmt/ntc.js"></script>
    <script src="fmt/tdd.js"></script>
    <script src="fmt/TDDSVGView.js"></script>
    <script src="fmt/svg_to_img.js"></script>
    <script src="fmt/json_to_tdd.js"></script>
    <script src="draft.js"></script>
  </head>

  <body>
    <header>
      <h1>Tablet Weaving Draft Designer</h1>

      <div id="instructions">
        <p class="instructionlink">
          <a
            href="http://www.tabletweavingintheoryandpractice.co.uk/2021/02/getting-most-from-tablet-weaving-draft.html"
            target="_blank">
            Click Here for Instructions
          </a>
        </p>
        <p class="instructionlink">
          <a
            href="http://www.tabletweavingintheoryandpractice.co.uk/2021/01/using-new-pattern-repeat-tool-on-tdd.html"
            target="_blank">
            Tips on using the new Pattern Repeat tool
          </a>
        </p>
      </div>

      <div id="blogvert">
        <p class="blogvert">
          For more tablet weaving drafts, information and help with tablet
          weaving, please
          <a href="http://www.tabletweavingintheoryandpractice.co.uk"
            >read my blog</a
          >.
        </p>
      </div>

      <div id="copyright_notice">
        <p class="copyright_notice">
          For more details on copyright and usage please click<a
            href="copyright.html"
            >here</a
          >
        </p>
      </div>
    </header>
    <main>
      <section class="controlbar">
        <div class="controlpanel">
          <h3>Draft Name</h3>
          <div>
            <span id="draftname"> <input class="readout" value="" /> </span>
          </div>
        </div>
        <div class="controlpanel" id="controls">
          <button class="accordion active">Controls</button>
          <div class="panel">
            <span id="mainrowcontrols">
              <label>Picks</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
            <span id="lowrowcontrols">
              <label>Number of Holes:</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
            <span id="colcontrols">
              <label>Number of Tablets:</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
            <span id="showcontrols">
              <label for="addright">Add tablets on:</label>
              <span>
                <label class="switch">
                  <input type="checkbox" id="addright" checked="false" />
                  <span class="slider round"> </span>
                </label>
              </span>
            </span>
            <span id="showcontrols">
              <label for="lockdraft">Lock Draft</label>
              <span>
                <label class="switch">
                  <input type="checkbox" id="lockdraft" checked="false" />
                  <span class="slider round"> </span>
                </label>
              </span>
            </span>
          </div>
        </div>
        <div class="controlpanel" id="rulers">
          <button class="accordion">Rulers</button>
          <div class="panel">
            <span id="showcontrols">
              <label for="showhruler">Show Horizontal Ruler</label>
              <span>
                <input type="checkbox" id="showhruler" checked="true" />
              </span>
            </span>
            <span id="showcontrols">
              <label for="showvruler">Show Vertical Ruler</label>
              <span>
                <input type="checkbox" id="showvruler" checked="true" />
              </span>
            </span>
            <span id="hruler">
              <label>Horizontal Ruler Position:</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
            <span id="vruler">
              <label>Vertical Ruler Position:</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
          </div>
        </div>
        <div class="controlpanel" id="display">
          <button class="accordion">Display</button>
          <div class="panel">
            <span id="showcontrols">
              <label for="showovals">Show Threads</label>
              <span>
                <input type="checkbox" id="showovals" checked="true" />
              </span>
            </span>
            <span id="showcontrols">
              <label for="showsquares">Only Show Thread Colour</label>
              <span> <input type="checkbox" id="showsquares" /> </span>
            </span>
            <span id="showcontrols">
              <label for="showtwist">Show twist</label>
              <span>
                <input type="checkbox" id="showtwist" checked="true" />
              </span>
            </span>
            <span id="showcontrols">
              <label for="showupper">Show Turning Diagram</label>
              <span>
                <input type="checkbox" id="showupper" checked="true" />
              </span>
            </span>
            <span id="showcontrols">
              <label for="showlower">Show Threading Diagram</label>
              <span>
                <input type="checkbox" id="showlower" checked="true" />
              </span>
            </span>
            <span id="showcontrols">
              <label for="showreversal">Show Reversal Points</label>
              <span>
                <input type="checkbox" id="showreversal" checked="true" />
              </span>
            </span>
            <span id="showcontrols">
              <label for="showtext">Show Text Description</label>
              <span> <input type="checkbox" id="showtext" /> </span>
            </span>
            <span id="showcontrols">
              <label for="showgrid">Show grid</label>
              <span>
                <input type="checkbox" id="showgrid" checked="true" />
              </span>
            </span>
            <span id="showcontrols">
              <label for="labelholescw">Label Holes Clockwise</label>
              <span>
                <label class="switch">
                  <input type="checkbox" id="labelholescw" checked="true" />
                  <span class="slider round"> </span>
                </label>
              </span>
            </span>
            <span id="showcontrols">
              <label for="invertsz">Sâ†”Z</label>
              <span>
                <label class="switch">
                  <input type="checkbox" id="invertsz" checked="true" />
                  <span class="slider round"> </span>
                </label>
              </span>
            </span>
            <span id="saturationcontrols">
              <label>Backwards Turn Saturation:</label>
              <input
                type="range"
                min="0"
                max="255"
                id="GREYSLIDER"
                value="144" />
              <input class="readout" id="GREYVAL" value="144" />
            </span>
            <span id="scalecontrols">
              <label>Visual Scale:</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
          </div>
        </div>

        <div class="controlpanel" id="repeats">
          <button class="accordion">Repeats</button>
          <div class="panel">
            <span id="showrepeat">
              <label for="showrepeats">Show Repeats</label>
              <span>
                <input type="checkbox" id="showrepeats" checked="false" />
              </span>
            </span>
            <span id="repeatstart">
              <label>Repeat Starting at Pick:</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
            <span id="repeatend">
              <label>Repeat Ending at Pick:</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
            <span id="numrepeats">
              <label>Number of Repeats:</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
            <span id="rscalecontrols">
              <label>Visual Scale:</label>
              <span>
                <button class="minus">-</button>
                <input class="readout" value="0" />
                <button class="plus">+</button>
              </span>
            </span>
          </div>

          <div id="resets">
            <button class="accordion">Resets</button>
            <div class="panel">
              <span>
                <button id="reset">Reset All</button>
                <button id="clear">Clear Patter</button>
                <button id="resetpallette">Reset Palett</button>
              </span>
            </div>
          </div>

          <div id="palete">
            <button class="accordion active">Palette</button>
            <div id="fg" class="panel">
              <label>Foreground Colour:</label>
              <table>
                <tr>
                  <td class="colorbox selected" id="EMPTYBOX">None</td>
                  <td class="colorbox" id="BOX1"></td>
                  <td class="colorbox" id="BOX2"></td>
                  <td class="colorbox" id="BOX3"></td>
                  <td class="colorbox" id="BOX4"></td>
                  <td class="colorbox" id="BOX5"></td>
                  <td class="colorbox" id="BOX6"></td>
                  <td class="colorbox" id="BOX7"></td>
                  <td class="colorbox" id="BOX8"></td>
                  <td class="colorbox" id="BOX9"></td>
                  <td class="colorbox" id="BOX10"></td>
                  <td class="colorbox" id="BOX11"></td>
                  <td class="colorbox" id="BOX12"></td>
                </tr>
                <tr>
                  <td class="colornum" id="NUM0"></td>
                  <td class="colornum" id="NUM1"></td>
                  <td class="colornum" id="NUM2"></td>
                  <td class="colornum" id="NUM3"></td>
                  <td class="colornum" id="NUM4"></td>
                  <td class="colornum" id="NUM5"></td>
                  <td class="colornum" id="NUM6"></td>
                  <td class="colornum" id="NUM7"></td>
                  <td class="colornum" id="NUM8"></td>
                  <td class="colornum" id="NUM9"></td>
                  <td class="colornum" id="NUM10"></td>
                  <td class="colornum" id="NUM11"></td>
                  <td class="colornum" id="NUM12"></td>
                </tr>
              </table>
              <label>Colour Name:</label>
              <label id="colourname"> </label>
              <div id="coloursliders">
                <span>
                  <label>Red:</label>
                  <input
                    type="range"
                    min="0"
                    max="255"
                    id="REDSLIDE"
                    value="0" />
                  <input class="readout" id="REDVAL" value="0" />
                </span>

                <span>
                  <label>Green:</label>
                  <input
                    type="range"
                    min="0"
                    max="255"
                    id="GREENSLIDE"
                    value="0" />
                  <input class="readout" id="GREENVAL" value="0" />
                </span>

                <span>
                  <label>Blue:</label>
                  <input
                    type="range"
                    min="0"
                    max="255"
                    id="BLUESLIDE"
                    value="0" />
                  <input class="readout" id="BLUEVAL" value="0" />
                </span>
              </div>
            </div>
          </div>

          <div id="export">
            <button class="accordion">Export</button>
            <div class="panel">
              <div class="controlpanel">
                <div>
                  <span>
                    <label for="export_width">Export Width (px):</label>
                    <span>
                      <input class="readout" id="export_width" value="1920" />
                    </span>
                  </span>
                </div>
              </div>
              <div id="draftexport">
                <h4>Draft</h4>
                <span> <button id="svg">SVG</button> </span>
                <span> <button id="jpeg">JPEG</button> </span>
                <span> <button id="png">PNG</button> </span>
                <span> <button id="txt">Text</button> </span>
              </div>
              <div id="repeatexport">
                <h4>Repeat</h4>
                <span> <button id="svg">SVG</button> </span>
                <span> <button id="jpeg">JPEG</button> </span>
                <span> <button id="png">PNG</button> </span>
              </div>
            </div>
          </div>

          <div id="fileio">
            <button class="accordion">Files</button>
            <div class="panel">
              <div><button id="save">Save</button></div>
              <div>
                <label>Load</label>
                <input
                  type="file"
                  accept="application/json,.tdd,.txt"
                  id="load" />
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="mainsection">
        <div id="draftcanvas" class="draftcanvas"></div>
      </section>

      <section id="repeatsection">
        <div id="repeatcanvas" class="draftcanvas"></div>
      </section>

      <section id="textinstructions">
        <ul>
          <li>Threading:</li>
          <ol id="threadinginstructions"></ol>
          <li>Turning:</li>
          <ol id="turninginstructions"></ol>
        </ul>
      </section>
    </main>
    <footer>
      <p class="copyright">
        Tablet Weaving Draft Designer v1.7.1 Copyright &copy; 2015-2024 James P.
        Weaver and Catherine Weaver. The copyright of drafts designed with this
        software rests with the designer of the draft, not of the software.
      </p>
    </footer>
  </body>
</html>
